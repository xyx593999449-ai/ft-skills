---
name: bigpoi-verification
version: 1.1.0
description: 针对大POI数据（如政府机关、三甲医院、机场等重要地点），通过收集多源情报信息并进行综合判断，对POI的真实性、名称、坐标、地址等属性进行核实，输出核实后POI成果与核实记录，支撑地图数据生产、治理与审查场景。
---------------------------------------------------------------------------------------------

# 大POI核实技能（Big POI Verification Skill）

## 1. 技能目标（Skill Purpose）

本技能用于对 **大POI（Big POI）** 数据进行自动化核实（Verification）。

通过多源情报收集、规则化判断与统一决策策略，对 POI 在多个关键维度上的真实性与准确性进行评估，并输出结构化、可解释、可追溯的核实结论，用于支撑地图数据生产、治理与审查场景。

本技能的核心目标不是“尽可能多地产生结论”，而是：

* 在信息充分且一致时，给出**高置信度、可直接采纳**的核实结果；
* 在信息不足或存在冲突时，**主动降级或转人工复核**；
* 确保所有输出结论均具备明确依据，支持后续审计与责任追溯。

---

## 2. 大POI定义（Big POI Definition）

大POI是指在地图产品、监管审图或用户核心使用场景中具有高度重要性和公共影响力的兴趣点类型，包括但不限于：

* 三甲医院
* 国家级 / 省级 / 地市级 / 区县级政府机关
* 公安机关、法院、检察院
* 高等院校
* 机场、火车站、货运站
* 4A / 5A 景区、世界遗产、博物馆

大POI通常具备以下特征：

* **权威性高**：通常存在明确的主管部门或官方信息源
* **结构稳定**：实体本身不应频繁发生大规模变更
* **错误成本高**：错误会直接影响用户决策、业务合规或审图结果

---

## 3. 技能边界（Skill Scope）

### 3.1 本技能可以处理的场景
本技能只负责根据输入的待核实POI，进行任务有效性判断、按流程进行子技能调度以及最终输出结果的整合；

* 输入 POI 类型属于大POI白名单（由 `config/bigpoi_type.yaml` 定义）
* 输入数据至少包含 `name` 与 `city` 两个核心字段（格式见 `schema/input.schema.json`）
* 根据输入的poi数据，使用子技能`evidence-collection`进行情报收集
* 根据收集到的情报数据，使用子技能`verification`核实poi的存在性、名称准确性、坐标&地址空间位置、分类正确性等维度
* 输出最终核实结论，包含核实后的poi成果、证据记录、核实结果等

### 3.2 本技能不直接处理的场景（Out of Scope）

* 新 POI 的发现、挖掘与创建
* 涉密、军事或未公开机构的真实性确认
* 行政区划调整、政策变更的权威解释
* 高风险、强不确定性场景下的最终业务裁决（必须转人工处理）

### 3.3 强制降级原则

在以下任一情况下，本技能 **必须输出降级，转人工复核结果**

* 非大POI类型，不在白名单内
* 情报收集失败或超时，无法获取足够信息
* 多源信息存在显著冲突，且无法通过权重策略消解
* 官方或高可信度来源缺失
* 名称、位置、分类等多个核心维度同时不一致

---

## 4. 核实规范流程（不可跳过！）
整体流程如下：
1. 输入校验与范围确认
2. 多源情报收集与规范化处理
3. 大POI核实判断
4. 结果输出与记录

本技能的核实过程需遵循以下**规范性阶段顺序**。任何核实结论，均不得跳过或颠倒以下阶段。

### 阶段一：输入校验与范围确认

* 校验输入数据格式，是否符合 `schema/input.schema.json` 定义，若为自然语言描述，需先转换为结构化数据；无法转换时或poi名称不明确时，必须直接输出降级或拒绝结果
* 校验 POI 类型是否在技能支持范围内，支持类型由 `config/bigpoi_type.yaml` 定义
* 不满足上述条件的输入不得进入后续核实流程，必须直接输出降级或拒绝结果

### 阶段二：多源情报收集与规范化处理

* 必须使用子技能`evidence-collection`进行情报收集，严禁自由发挥或跳过该环节；
* 本skill**不得**自行补充情报或使用常识和外部搜索代替；
* 情报收集过程中不进行任何主观性判断，仅收集事实性信息；
* 情报收集的最终结果必须符合 `schema/evidence.schema.json` 定义；

### 阶段三：大POI核实判断
* 必须使用子技能`verification`进行核实判断，严禁自行判断或跳过该环节；
* 输入必须包含原始poi输入信息和阶段二收集的情报数据，本技能不得加工、筛选或改变输入数据；

### 阶段四：结果输出与记录
* 根据第二阶段收集的情报信息和第三阶段的最终核实结果，整合后输出最终结果；
* 输出结果包含以下内容，缺一不可：
   1. 按 `schema/record.schema.json` 生成最终可入库记录；--最终核实结果（最重要）
   2. 按 `schema/decision.schema.json` 输出结构化核实结论；--核实维度级结果（重要）
   3. 按 `schema/evidence.schema.json` 生成证据记录；--证据记录（审计、抽检使用）

## 5.子skill调用校验（不可跳过！）
* 子技能`evidence-collection`必须成功返回且符合 `schema/evidence.schema.json` 定义，否则本技能必须直接输出降级或拒绝结果；
* 子技能`verification`必须成功返回且符合 `schema/decision.schema.json` 定义，否则本技能必须直接输出降级或拒绝结果；


## 6. 输入与输出语义（Input & Output Semantics）

### 6.1 输入语义（Input）
* 技能接收结构化POI 数据或自然语言描述，
    * 结构化数据字段约束与格式定义见：`schema/input.schema.json`
    * 自然语言语义上至少应包含： 
        * POI 名称
        * POI 类型（大POI子类）
        * 所属城市或行政区
    可选补充信息包括地址、坐标、备注等。

### 6.2 输出语义（Output）

* 技能至少输出三个成果记录，结构定义见：
    * 最终入库记录结构：`schema/record.schema.json`
    * 决策结构：`schema/decision.schema.json`
    * 证据结构：`schema/evidence.schema.json`

* 可选按语义输出结果包括：


1. **流程执行结论（Overall Decision）**
    * 各流程执行结果，是否调用子技能
        * 输入校验与范围确认：pass / fail
        * 多源情报收集与规范化处理：pass / fail
        * 大POI核实判断：pass / fail
        * 结果输出与记录：pass / fail
    * 是否完整执行：pass / fail
    * 是否存在失败流程：pass / fail
    * 失败流程原因：若存在失败流程，需说明具体原因（如输入校验失败、多源情报收集超时等）
    
2. **整体结论（Overall Decision）**

   * poi信息：核实后的poi成果，至少包含名称、类型、城市、地址、坐标等，可选包含备注（如三甲医院、5A景区）等；
   * 核实状态：`accepted / downgraded / manual_review`
   * 整体执行度（overall_confidence）

2. **维度级结论（Dimension-level Decisions）**

   * 各核实维度的判断结果与执行度

3. **执行说明（Execution Notes）**

   * 是否发生降级
   * 降级原因
   * 建议的后续处理动作（如人工复核、二次抓源）

4. **坐标系统说明**

   * 本技能统一使用 **GCJ02（国测局坐标系）** 作为标准输出坐标系
   * 支持输入坐标系：WGS84、GCJ02、BD09
   * 所有情报收集到的坐标数据在证据规范化阶段（阶段二）统一转换为GCJ02
   * 输出坐标格式：`{"longitude": 经度, "latitude": 纬度, "coordinate_system": "GCJ02"}`
   * 坐标转换逻辑由 `scripts/normalize_evidence.py` 实现

本技能的输出结果应支持直接写入数据库，用于后续质量抽检、审计与责任追溯。

---
## 8.明确禁止行为（Hard Stop）

父 Skill 在任何情况下，**严禁**：

- 因子 Skill 失败而自行“补一个判断”
- 因证据不足而“给一个倾向性结论”
- 跳过子 Skill 直接输出核实结果
- 修改、重写或合并子 Skill 的判断结论

---